{"code":"module.exports=function(e){var t=require(\"../../../ssr-module-cache.js\");function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}},o=!0;try{e[n].call(a.exports,a,a.exports,r),o=!1}finally{o&&delete t[n]}return a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}({\"/+oN\":function(e,t){e.exports=require(\"core-js/library/fn/object/get-prototype-of\")},0:function(e,t,r){e.exports=r(\"RNiq\")},\"2lK3\":function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return l}),r.d(t,\"c\",function(){return p}),r.d(t,\"b\",function(){return f});var n=r(\"ln6h\"),a=r.n(n),o=r(\"9Jkg\"),c=r.n(o),u=r(\"O40h\"),s=r(\"zr5I\"),i=r.n(s),l=\"https://api.coursecamp.io/graphql\",p=\"https://api.coursecamp.io\",f=function(){var e=Object(u.a)(a.a.mark(function e(t,r,n){var o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={\"Content-Type\":\"application/json\",Authorization:n?\"Bearer \".concat(n):\"undefined\"},u={query:\"\\n        \".concat(r,\"\\n      \")},e.abrupt(\"return\",i.a.post(t,c()(u),{headers:o}));case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt(\"return\",e.t0);case 9:case\"end\":return e.stop()}},e,null,[[0,6]])}));return function(t,r,n){return e.apply(this,arguments)}}()},\"3PsY\":function(e,t){e.exports=require(\"antd/lib/message\")},\"46kV\":function(e,t){e.exports=require(\"react-spinners\")},\"9Jkg\":function(e,t,r){e.exports=r(\"fozc\")},Bhuq:function(e,t,r){e.exports=r(\"/+oN\")},O40h:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return c});var n=r(\"eVuF\"),a=r.n(n);function o(e,t,r,n,o,c,u){try{var s=e[c](u),i=s.value}catch(e){return void r(e)}s.done?t(i):a.a.resolve(i).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new a.a(function(n,a){var c=e.apply(t,r);function u(e){o(c,n,a,u,s,\"next\",e)}function s(e){o(c,n,a,u,s,\"throw\",e)}u(void 0)})}}},\"R/WU\":function(e,t,r){\"use strict\";r.r(t),r.d(t,\"call\",function(){return a});var n=r(\"vYYK\"),a=function(e,t,r){e.setState(Object(n.a)({},t,r))}},RNiq:function(e,t,r){\"use strict\";r.r(t);var n=r(\"ln6h\"),a=r.n(n),o=r(\"O40h\"),c=r(\"cDcd\"),u=r.n(c),s=r(\"U7sd\"),i=r.n(s),l=r(\"UXZV\"),p=r.n(l);function f(){return(f=p.a||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=r(\"xZtu\"),h=r.n(d);function m(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var y=r(\"hfKm\"),b=r.n(y);function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),b()(e,n.key,n)}}function x(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}var j=r(\"XVgq\"),g=r.n(j),w=r(\"Z7t5\"),E=r.n(w);function k(e){return(k=\"function\"==typeof E.a&&\"symbol\"==typeof g.a?function(e){return typeof e}:function(e){return e&&\"function\"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?\"symbol\":typeof e})(e)}function q(e){return(q=\"function\"==typeof E.a&&\"symbol\"===k(g.a)?function(e){return k(e)}:function(e){return e&&\"function\"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?\"symbol\":k(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function O(e,t){return!t||\"object\"!==q(t)&&\"function\"!=typeof t?C(e):t}var S=r(\"Bhuq\"),A=r.n(S),_=r(\"TRZx\"),R=r.n(_);function F(e){return(F=R.a?A.a:function(e){return e.__proto__||A()(e)})(e)}var U=r(\"SqZg\"),B=r.n(U);function K(e,t){return(K=R.a||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=B()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}var Z=r(\"vYYK\"),P=r(\"zkM6\"),Y=r.n(P),M=r(\"jrgU\"),z={updateState:r(\"R/WU\"),setCourseStatus:r(\"Z5Fe\"),getCoursesByStatus:r(\"jpLA\")},N=function(e){function t(){var e,r;m(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=O(this,(e=F(t)).call.apply(e,[this].concat(a))),Object(Z.a)(C(r),\"state\",{currentCoursesUnpublished:!1,currentCoursesReviewing:!1,currentCoursesPublished:!1,isFetching:!1}),Object(Z.a)(C(r),\"updateState\",function(e,t){return z.updateState.call(C(r),e,t)}),Object(Z.a)(C(r),\"setCourseStatus\",function(e,t,n){return z.setCourseStatus.call(C(r),e,t,n)}),Object(Z.a)(C(r),\"getCoursesByStatus\",function(e,t){return z.getCoursesByStatus.call(C(r),e,t)}),r}return T(t,M[\"Container\"]),t}(),I=r(\"eGmO\"),V=r.n(I),D=r(\"wy2R\"),G=r.n(D),L=r(\"46kV\"),J=function(e){function t(){var e,r;m(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=O(this,(e=F(t)).call.apply(e,[this].concat(a))),Object(Z.a)(C(r),\"renderCourses\",function(){var e=r.props.container.state[\"currentCourses\".concat(r.props.status)];return e&&e.length>0&&!r.props.container.state.isFetching?e.map(function(e){return u.a.createElement(\"div\",null,u.a.createElement(\"h3\",null,e.title),u.a.createElement(\"p\",null,u.a.createElement(\"b\",null,e._id)),u.a.createElement(\"p\",null,\"Created by \",u.a.createElement(\"b\",null,e.creator.name),\" \",u.a.createElement(\"b\",null,G()(e.date).fromNow()),\" with id: \",u.a.createElement(\"b\",null,e.creator._id)),\"Reviewing\"===r.props.status||\"Approved\"===r.props.status?u.a.createElement(V.a.Group,null,u.a.createElement(V.a,{type:\"primary\",onClick:function(){return r.props.container.setCourseStatus(r.props.auth,e,\"Reviewing\"===r.props.status?\"Approved\":\"Unpublished\")}},\"Reviewing\"===r.props.status?\"Approve Course\":\"Unpublish Course\"),\"Reviewing\"===r.props.status?u.a.createElement(V.a,{type:\"danger\",onClick:function(){return r.props.container.setCourseStatus(r.props.auth,e,\"NotApproved\")}},\"Disapprove\"):null):null,u.a.createElement(h.a,{dashed:!0}))}):r.props.container.state.isFetching?void 0:u.a.createElement(\"h3\",null,\"No courses found with the status \",u.a.createElement(\"b\",null,r.props.status))}),r}return T(t,u.a.Component),x(t,[{key:\"componentDidMount\",value:function(){this.props.container.getCoursesByStatus(this.props.auth,this.props.status)}},{key:\"render\",value:function(){return u.a.createElement(\"div\",null,this.renderCourses(),this.props.container.state.isFetching?u.a.createElement(\"div\",{style:W},u.a.createElement(L.BarLoader,{color:\"#43A5FF\"})):null)}}]),t}(),W={width:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",background:\"white\",borderBottom:\"1px solid #e8e8e8\",boxShadow:\"box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15)\",height:\"46px\"},X=function(e){return u.a.createElement(J,f({},e,{status:\"Unpublished\"}))},H=function(e){return u.a.createElement(J,f({},e,{status:\"Approved\"}))},Q=function(e){return u.a.createElement(J,f({},e,{status:\"Reviewing\"}))},$=Y.a.TabPane,ee=function(e){function t(){var e,r;m(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=O(this,(e=F(t)).call.apply(e,[this].concat(a))),Object(Z.a)(C(r),\"state\",{loaded:!1}),r}return T(t,u.a.Component),x(t,[{key:\"componentDidMount\",value:function(){var e=Object(o.a)(a.a.mark(function e(){var t=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({loaded:!0});case 1:case\"end\":return e.stop()}},e)})),600);case 1:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this;return u.a.createElement(M.Subscribe,{to:[N]},function(t){return u.a.createElement(\"div\",null,e.state.loaded?u.a.createElement(\"div\",{style:{width:\"80%\",display:\"block\",margin:\"0 auto\"}},u.a.createElement(\"h1\",{style:{marginTop:50}},\"Courses In Review\"),u.a.createElement(h.a,{dashed:!0}),u.a.createElement(Y.a,{defaultActiveKey:\"1\"},u.a.createElement($,{tab:\"Unpublished\",key:\"1\"},u.a.createElement(X,f({container:t},e.props))),u.a.createElement($,{tab:\"Reviewing\",key:\"2\"},u.a.createElement(Q,f({container:t},e.props))),u.a.createElement($,{tab:\"Approved\",key:\"3\"},u.a.createElement(H,f({container:t},e.props))))):u.a.createElement(\"div\",{style:te},u.a.createElement(L.BarLoader,{color:\"#43A5FF\"})))})}}]),t}(),te={width:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",background:\"white\",borderBottom:\"1px solid #e8e8e8\",boxShadow:\"box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15)\",height:\"46px\"},re=function(){return u.a.createElement(\"div\",null,u.a.createElement(i.a,null,u.a.createElement(\"title\",null,\"Create Course\"),u.a.createElement(\"script\",{src:\"https://code.jquery.com/jquery-3.3.1.min.js\",integrity:\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\",crossOrigin:\"anonymous\"}),u.a.createElement(\"link\",{href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css\",rel:\"stylesheet\",type:\"text/css\"}),u.a.createElement(\"link\",{href:\"https://cdn.jsdelivr.net/npm/froala-editor@2.9.1/css/froala_editor.pkgd.min.css\",rel:\"stylesheet\",type:\"text/css\"}),u.a.createElement(\"link\",{href:\"https://cdn.jsdelivr.net/npm/froala-editor@2.9.1/css/froala_style.min.css\",rel:\"stylesheet\",type:\"text/css\"}),u.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdn.jsdelivr.net/npm/froala-editor@2.9.1/js/froala_editor.pkgd.min.js\"}),u.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.js\"}),u.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/xml/xml.min.js\"}),u.a.createElement(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.css\"}),u.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.9.1/css/themes/dark.min.css\"})),u.a.createElement(ee,null))};re.getInitialProps=function(){var e=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",{});case 1:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();t.default=re},SqZg:function(e,t,r){e.exports=r(\"o5io\")},TRZx:function(e,t,r){e.exports=r(\"Wk4r\")},TUA0:function(e,t){e.exports=require(\"core-js/library/fn/object/define-property\")},U7sd:function(e,t){e.exports=require(\"next-server/head\")},UXZV:function(e,t,r){e.exports=r(\"dGr4\")},Wk4r:function(e,t){e.exports=require(\"core-js/library/fn/object/set-prototype-of\")},XVgq:function(e,t,r){e.exports=r(\"gHn/\")},Z5Fe:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"call\",function(){return d});var n=r(\"ln6h\"),a=r.n(n),o=r(\"3PsY\"),c=r.n(o),u=r(\"9Jkg\"),s=r.n(u),i=r(\"O40h\"),l=r(\"zr5I\"),p=r.n(l),f=r(\"2lK3\"),d=function(){var e=Object(i.a)(a.a.mark(function e(t,r,n,o){var u,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u={\"Content-Type\":\"application/json\",Authorization:\" Bearer \".concat(r.token)},i={courseId:n._id,status:o,course:n},e.next=5,p.a.post(\"\".concat(f.c,\"/api-routes/change-course-status\"),s()(i),{headers:u});case 5:c.a.success(\"Successfully set course status to \"+o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.a.error(\"There was an issue approving this course\");case 11:case\"end\":return e.stop()}},e,null,[[0,8]])}));return function(t,r,n,a){return e.apply(this,arguments)}}()},Z7t5:function(e,t,r){e.exports=r(\"vqFK\")},aC71:function(e,t){e.exports=require(\"core-js/library/fn/promise\")},cDcd:function(e,t){e.exports=require(\"react\")},cu1A:function(e,t){e.exports=require(\"regenerator-runtime\")},dGr4:function(e,t){e.exports=require(\"core-js/library/fn/object/assign\")},eGmO:function(e,t){e.exports=require(\"antd/lib/button\")},eVuF:function(e,t,r){e.exports=r(\"aC71\")},fozc:function(e,t){e.exports=require(\"core-js/library/fn/json/stringify\")},\"gHn/\":function(e,t){e.exports=require(\"core-js/library/fn/symbol/iterator\")},hfKm:function(e,t,r){e.exports=r(\"TUA0\")},jpLA:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"call\",function(){return l});var n=r(\"ln6h\"),a=r.n(n),o=r(\"3PsY\"),c=r.n(o),u=r(\"vYYK\"),s=r(\"O40h\"),i=r(\"2lK3\"),l=function(){var e=Object(s.a)(a.a.mark(function e(t,r,n){var o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.setState({isFetching:!0});case 3:return e.next=5,Object(i.b)(i.a,'\\n      {\\n        courseByStatus(status: \"'.concat(n,'\") {\\n          title\\n          _id\\n          date\\n          creator {\\n            name\\n            _id\\n          }\\n        }\\n      }\\n    '),r.token);case 5:s=e.sent,t.setState((o={},Object(u.a)(o,\"currentCourses\".concat(n),s.data.data.courseByStatus),Object(u.a)(o,\"isFetching\",!1),o)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),c.a.error(\"An unexpected error occurred\");case 13:case\"end\":return e.stop()}},e,null,[[0,9]])}));return function(t,r,n){return e.apply(this,arguments)}}()},jrgU:function(e,t){e.exports=require(\"unstated\")},ln6h:function(e,t,r){e.exports=r(\"cu1A\")},o5io:function(e,t){e.exports=require(\"core-js/library/fn/object/create\")},vYYK:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return o});var n=r(\"hfKm\"),a=r.n(n);function o(e,t,r){return t in e?a()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},vqFK:function(e,t){e.exports=require(\"core-js/library/fn/symbol\")},wy2R:function(e,t){e.exports=require(\"moment\")},xZtu:function(e,t){e.exports=require(\"antd/lib/divider\")},zkM6:function(e,t){e.exports=require(\"antd/lib/tabs\")},zr5I:function(e,t){e.exports=require(\"axios\")}});","extractedComments":[]}