{"code":"module.exports=function(e){var t=require(\"../../../ssr-module-cache.js\");function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}},o=!0;try{e[n].call(a.exports,a,a.exports,r),o=!1}finally{o&&delete t[n]}return a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}({\"/+oN\":function(e,t){e.exports=require(\"core-js/library/fn/object/get-prototype-of\")},0:function(e,t,r){e.exports=r(\"RNiq\")},\"3PsY\":function(e,t){e.exports=require(\"antd/lib/message\")},\"46kV\":function(e,t){e.exports=require(\"react-spinners\")},\"9Jkg\":function(e,t,r){e.exports=r(\"fozc\")},Bhuq:function(e,t,r){e.exports=r(\"/+oN\")},O40h:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return c});var n=r(\"eVuF\"),a=r.n(n);function o(e,t,r,n,o,c,s){try{var u=e[c](s),i=u.value}catch(e){return void r(e)}u.done?t(i):a.a.resolve(i).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new a.a(function(n,a){var c=e.apply(t,r);function s(e){o(c,n,a,s,u,\"next\",e)}function u(e){o(c,n,a,s,u,\"throw\",e)}s(void 0)})}}},\"R/WU\":function(e,t,r){\"use strict\";r.r(t),r.d(t,\"call\",function(){return a});var n=r(\"vYYK\"),a=function(e,t,r){e.setState(Object(n.a)({},t,r))}},RNiq:function(e,t,r){\"use strict\";r.r(t);var n=r(\"ln6h\"),a=r.n(n),o=r(\"O40h\"),c=r(\"cDcd\"),s=r.n(c),u=r(\"U7sd\"),i=r.n(u),l=r(\"UXZV\"),p=r.n(l);function f(){return(f=p.a||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=r(\"xZtu\"),h=r.n(d);function m(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var y=r(\"hfKm\"),v=r.n(y);function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),v()(e,n.key,n)}}function x(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}var j=r(\"XVgq\"),g=r.n(j),w=r(\"Z7t5\"),E=r.n(w);function k(e){return(k=\"function\"==typeof E.a&&\"symbol\"==typeof g.a?function(e){return typeof e}:function(e){return e&&\"function\"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?\"symbol\":typeof e})(e)}function C(e){return(C=\"function\"==typeof E.a&&\"symbol\"===k(g.a)?function(e){return k(e)}:function(e){return e&&\"function\"==typeof E.a&&e.constructor===E.a&&e!==E.a.prototype?\"symbol\":k(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function q(e,t){return!t||\"object\"!==C(t)&&\"function\"!=typeof t?O(e):t}var S=r(\"Bhuq\"),_=r.n(S),A=r(\"TRZx\"),F=r.n(A);function R(e){return(R=F.a?_.a:function(e){return e.__proto__||_()(e)})(e)}var U=r(\"SqZg\"),T=r.n(U);function B(e,t){return(B=F.a||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=T()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}var Z=r(\"vYYK\"),M=r(\"zkM6\"),P=r.n(M),K=r(\"jrgU\"),Y={updateState:r(\"R/WU\"),setCourseStatus:r(\"Z5Fe\"),getCoursesByStatus:r(\"jpLA\")},z=function(e){function t(){var e,r;m(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=q(this,(e=R(t)).call.apply(e,[this].concat(a))),Object(Z.a)(O(r),\"state\",{currentCoursesUnpublished:!1,currentCoursesReviewing:!1,currentCoursesPublished:!1,isFetching:!1}),Object(Z.a)(O(r),\"updateState\",function(e,t){return Y.updateState.call(O(r),e,t)}),Object(Z.a)(O(r),\"setCourseStatus\",function(e,t,n){return Y.setCourseStatus.call(O(r),e,t,n)}),Object(Z.a)(O(r),\"getCoursesByStatus\",function(e,t){return Y.getCoursesByStatus.call(O(r),e,t)}),r}return N(t,K[\"Container\"]),t}(),D=r(\"eGmO\"),I=r.n(D),V=r(\"wy2R\"),L=r.n(V),G=r(\"46kV\"),H=function(e){function t(){var e,r;m(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=q(this,(e=R(t)).call.apply(e,[this].concat(a))),Object(Z.a)(O(r),\"renderCourses\",function(){var e=r.props.container.state[\"currentCourses\".concat(r.props.status)];return e&&e.length>0&&!r.props.container.state.isFetching?e.map(function(e){return s.a.createElement(\"div\",null,s.a.createElement(\"h3\",null,e.title),s.a.createElement(\"p\",null,s.a.createElement(\"b\",null,e._id)),s.a.createElement(\"p\",null,\"Created by \",s.a.createElement(\"b\",null,e.creator.name),\" \",s.a.createElement(\"b\",null,L()(e.date).fromNow()),\" with id: \",s.a.createElement(\"b\",null,e.creator._id)),\"Reviewing\"===r.props.status||\"Approved\"===r.props.status?s.a.createElement(I.a.Group,null,s.a.createElement(I.a,{type:\"primary\",onClick:function(){return r.props.container.setCourseStatus(r.props.auth,e,\"Reviewing\"===r.props.status?\"Approved\":\"Unpublished\")}},\"Reviewing\"===r.props.status?\"Approve Course\":\"Unpublish Course\"),\"Reviewing\"===r.props.status?s.a.createElement(I.a,{type:\"danger\",onClick:function(){return r.props.container.setCourseStatus(r.props.auth,e,\"NotApproved\")}},\"Disapprove\"):null):null,s.a.createElement(h.a,{dashed:!0}))}):r.props.container.state.isFetching?void 0:s.a.createElement(\"h3\",null,\"No courses found with the status \",s.a.createElement(\"b\",null,r.props.status))}),r}return N(t,s.a.Component),x(t,[{key:\"componentDidMount\",value:function(){this.props.container.getCoursesByStatus(this.props.auth,this.props.status)}},{key:\"render\",value:function(){return s.a.createElement(\"div\",null,this.renderCourses(),this.props.container.state.isFetching?s.a.createElement(\"div\",{style:J},s.a.createElement(G.BarLoader,{color:\"#43A5FF\"})):null)}}]),t}(),J={width:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",background:\"white\",borderBottom:\"1px solid #e8e8e8\",boxShadow:\"box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15)\",height:\"46px\"},W=function(e){return s.a.createElement(H,f({},e,{status:\"Unpublished\"}))},X=function(e){return s.a.createElement(H,f({},e,{status:\"Approved\"}))},Q=function(e){return s.a.createElement(H,f({},e,{status:\"Reviewing\"}))},$=P.a.TabPane,ee=function(e){function t(){var e,r;m(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=q(this,(e=R(t)).call.apply(e,[this].concat(a))),Object(Z.a)(O(r),\"state\",{loaded:!1}),r}return N(t,s.a.Component),x(t,[{key:\"componentDidMount\",value:function(){var e=Object(o.a)(a.a.mark(function e(){var t=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({loaded:!0});case 1:case\"end\":return e.stop()}},e)})),600);case 1:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this;return s.a.createElement(K.Subscribe,{to:[z]},function(t){return s.a.createElement(\"div\",null,e.state.loaded?s.a.createElement(\"div\",{style:{width:\"80%\",display:\"block\",margin:\"0 auto\"}},s.a.createElement(\"h1\",{style:{marginTop:50}},\"Courses In Review\"),s.a.createElement(h.a,{dashed:!0}),s.a.createElement(P.a,{defaultActiveKey:\"1\"},s.a.createElement($,{tab:\"Unpublished\",key:\"1\"},s.a.createElement(W,f({container:t},e.props))),s.a.createElement($,{tab:\"Reviewing\",key:\"2\"},s.a.createElement(Q,f({container:t},e.props))),s.a.createElement($,{tab:\"Approved\",key:\"3\"},s.a.createElement(X,f({container:t},e.props))))):s.a.createElement(\"div\",{style:te},s.a.createElement(G.BarLoader,{color:\"#43A5FF\"})))})}}]),t}(),te={width:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",background:\"white\",borderBottom:\"1px solid #e8e8e8\",boxShadow:\"box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15)\",height:\"46px\"},re=function(){return s.a.createElement(\"div\",null,s.a.createElement(i.a,null,s.a.createElement(\"title\",null,\"Create Course\"),s.a.createElement(\"script\",{src:\"https://code.jquery.com/jquery-3.3.1.min.js\",integrity:\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\",crossOrigin:\"anonymous\"}),s.a.createElement(\"link\",{href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css\",rel:\"stylesheet\",type:\"text/css\"}),s.a.createElement(\"link\",{href:\"https://cdn.jsdelivr.net/npm/froala-editor@2.9.1/css/froala_editor.pkgd.min.css\",rel:\"stylesheet\",type:\"text/css\"}),s.a.createElement(\"link\",{href:\"https://cdn.jsdelivr.net/npm/froala-editor@2.9.1/css/froala_style.min.css\",rel:\"stylesheet\",type:\"text/css\"}),s.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdn.jsdelivr.net/npm/froala-editor@2.9.1/js/froala_editor.pkgd.min.js\"}),s.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.js\"}),s.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/xml/xml.min.js\"}),s.a.createElement(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.css\"}),s.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.9.1/css/themes/dark.min.css\"})),s.a.createElement(ee,null))};re.getInitialProps=function(){var e=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",{});case 1:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();t.default=re},SqZg:function(e,t,r){e.exports=r(\"o5io\")},TRZx:function(e,t,r){e.exports=r(\"Wk4r\")},TUA0:function(e,t){e.exports=require(\"core-js/library/fn/object/define-property\")},U7sd:function(e,t){e.exports=require(\"next-server/head\")},UXZV:function(e,t,r){e.exports=r(\"dGr4\")},Wk4r:function(e,t){e.exports=require(\"core-js/library/fn/object/set-prototype-of\")},XVgq:function(e,t,r){e.exports=r(\"gHn/\")},Z5Fe:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"call\",function(){return f});var n=r(\"ln6h\"),a=r.n(n),o=r(\"3PsY\"),c=r.n(o),s=r(\"9Jkg\"),u=r.n(s),i=r(\"O40h\"),l=r(\"zr5I\"),p=r.n(l);!function(){var e=new Error(\"Cannot find module '../../../../../globalHelpers/axiosCalls'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var f=function(){var e=Object(i.a)(a.a.mark(function e(t,r,n,o){var s,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={\"Content-Type\":\"application/json\",Authorization:\" Bearer \".concat(r.token)},i={courseId:n._id,status:o,course:n},e.next=5,p.a.post(\"\".concat(!function(){var e=new Error(\"Cannot find module '../../../../../globalHelpers/axiosCalls'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),\"/api-routes/change-course-status\"),u()(i),{headers:s});case 5:c.a.success(\"Successfully set course status to \"+o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.a.error(\"There was an issue approving this course\");case 11:case\"end\":return e.stop()}},e,null,[[0,8]])}));return function(t,r,n,a){return e.apply(this,arguments)}}()},Z7t5:function(e,t,r){e.exports=r(\"vqFK\")},aC71:function(e,t){e.exports=require(\"core-js/library/fn/promise\")},cDcd:function(e,t){e.exports=require(\"react\")},cu1A:function(e,t){e.exports=require(\"regenerator-runtime\")},dGr4:function(e,t){e.exports=require(\"core-js/library/fn/object/assign\")},eGmO:function(e,t){e.exports=require(\"antd/lib/button\")},eVuF:function(e,t,r){e.exports=r(\"aC71\")},fozc:function(e,t){e.exports=require(\"core-js/library/fn/json/stringify\")},\"gHn/\":function(e,t){e.exports=require(\"core-js/library/fn/symbol/iterator\")},hfKm:function(e,t,r){e.exports=r(\"TUA0\")},jpLA:function(e,t,r){\"use strict\";r.r(t);var n=r(\"ln6h\"),a=r.n(n),o=r(\"3PsY\"),c=r.n(o),s=r(\"vYYK\"),u=r(\"O40h\"),i=r(\"9Jkg\"),l=r.n(i),p=r(\"zr5I\"),f=r.n(p),d=function(){var e=Object(u.a)(a.a.mark(function e(t,r,n){var o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={\"Content-Type\":\"application/json\",Authorization:n?\"Bearer \".concat(n):\"undefined\"},c={query:\"\\n        \".concat(r,\"\\n      \")},e.abrupt(\"return\",f.a.post(t,l()(c),{headers:o}));case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt(\"return\",e.t0);case 9:case\"end\":return e.stop()}},e,null,[[0,6]])}));return function(t,r,n){return e.apply(this,arguments)}}();r.d(t,\"call\",function(){return h});var h=function(){var e=Object(u.a)(a.a.mark(function e(t,r,n){var o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.setState({isFetching:!0});case 3:return e.next=5,d(\"https://api.coursecamp.io/graphql\",'\\n      {\\n        courseByStatus(status: \"'.concat(n,'\") {\\n          title\\n          _id\\n          date\\n          creator {\\n            name\\n            _id\\n          }\\n        }\\n      }\\n    '),r.token);case 5:u=e.sent,t.setState((o={},Object(s.a)(o,\"currentCourses\".concat(n),u.data.data.courseByStatus),Object(s.a)(o,\"isFetching\",!1),o)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),c.a.error(\"An unexpected error occurred\");case 13:case\"end\":return e.stop()}},e,null,[[0,9]])}));return function(t,r,n){return e.apply(this,arguments)}}()},jrgU:function(e,t){e.exports=require(\"unstated\")},ln6h:function(e,t,r){e.exports=r(\"cu1A\")},o5io:function(e,t){e.exports=require(\"core-js/library/fn/object/create\")},vYYK:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return o});var n=r(\"hfKm\"),a=r.n(n);function o(e,t,r){return t in e?a()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},vqFK:function(e,t){e.exports=require(\"core-js/library/fn/symbol\")},wy2R:function(e,t){e.exports=require(\"moment\")},xZtu:function(e,t){e.exports=require(\"antd/lib/divider\")},zkM6:function(e,t){e.exports=require(\"antd/lib/tabs\")},zr5I:function(e,t){e.exports=require(\"axios\")}});","extractedComments":[]}